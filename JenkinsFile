try {
	node {
		stage ('Setup') {
			helper = load "${env.WORKSPACE.split('@')[0]}@script/src/helpers.groovy"
		}
	node("selenium"){
		stage ('Checkout'){	
			echo "===accessing Project repo  ==============="		
			helper.checkoutRepo("https://bitbucket.org/insightsoftware-qcoe/qcoe_java_web_api","master")			
		}
		stage ('Build'){	
			bat 'mvn clean compile'			
		}
		stage ('Test'){ 
			try{
			echo "===accessing Project repo  ==============="	
			echo "${no_of_parallel_threads}"
			 helper.executeMavenTests(params.no_of_parallel_threads, params.use_selenium_grid, params.browser, params.environment, params.no_of_retries, params.test_suite_file)
			}
			catch(Exception ex)	{
				println(ex)					
			}	
		}
		
	                 
	}
		
	}		
	
} catch(Exception ex) {
	println(ex)	
    currentBuild.result = 'FAILURE'
} finally {
	echo "===Done  ==============="
}